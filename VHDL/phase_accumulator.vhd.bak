LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
use IEEE.NUMERIC_STD.all;
ENTITY phase_accumulator IS
	PORT(
		X: IN STD_LOGIC_VECTOR(31 DOWNTO 0);
		CLK :IN STD_LOGIC;
		RST: IN STD_LOGIC;
		Y: OUT STD_LOGIC_VECTOR(31 DOWNTO 0)
	);
END phase_accumulator;

ARCHITECTURE arch_phase_accumulator OF phase_accumulator IS
	COMPONENT delay_32_bit IS
	PORT(
			Q : OUT STD_LOGIC_VECTOR(31 DOWNTO 0);
			CLK :IN STD_LOGIC;
			RST: IN STD_LOGIC;
			D : IN STD_LOGIC_VECTOR(31 DOWNTO 0)
		);
	END COMPONENT;
	signal s_Q: STD_LOGIC_VECTOR(31 DOWNTO 0);
	signal SUM: STD_LOGIC_VECTOR(31 DOWNTO 0);
BEGIN
	a: delay_32_bit PORT MAP(
			s_Q, CLK, RST, SUM
		);
	SUM <= STD_LOGIC_VECTOR(SIGNED(X) + SIGNED(s_Q));
	Y <= s_Q;
END ARCHITECTURE;